!function(t){var i={init:function(){function i(i){return i.length>0?void i.each(function(){var i=new o;i.htmlRebuld(t(this))}):!1}var n=this;i(n)},destroy:function(t){if(void 0!==t)var i=t;else var i=this;var o=i.find(".lScrollContent"),n=o.children();o.unwrap(),n.unwrap(),i.removeClass("lscrollMainContainer").attr("style",""),i.find(".vertical-bar").remove(),i.find(".horizontal-bar").remove()}},o=function(){return param={containerHeight:0,containerWidth:0,contentHeight:0,contentWidth:0,scrollWidth:0,vertBarHeight:0,horizBarWidth:0,giveVerticalScroll:!1,giveHorizontalScroll:!1,lScrollMainContainer:!1,lScrollContainer:!1,lScrollContent:!1,verticalScroll:!1,verticalScrollSlider:!1,horizontalScroll:!1,horizontalScrollSlider:!1,htmlRebuld:function(t){t.hasClass("lscrollMainContainer")?(i.destroy(t),this.htmlConstructor(t)):this.htmlConstructor(t)},htmlConstructor:function(t){this.getWidthContent(t),t.addClass("lscrollMainContainer").wrapInner("<div class='lScrollContainer'><div class='lScrollContent'></div></div>"),this.objParamCalculator(t)},objParamCalculator:function(i){if(this.getScrollWidth(),this.getContainerSize(i),this.getContentSize(i.find(".lScrollContent")),this.getGiveVerticalScroll(this.containerHeight,this.contentHeight),this.getGiveHorizontalScroll(this.containerWidth,this.contentWidth),this.giveVerticalScroll||this.giveHorizontalScroll){var o,n,l=i,r=i.find(".lScrollContainer"),e=r.find(".lScrollContent");if(o=this.giveHorizontalScroll?this.containerHeight+this.scrollWidth:this.containerHeight,n=this.giveVerticalScroll?this.containerWidth+this.scrollWidth:this.containerWidth,l.length>0&&r.length>0){if(this.lScrollMainContainer=l,this.lScrollContainer=r,this.lScrollContent=e,this.lScrollMainContainer.css({overflow:"hidden",position:"relative",height:this.containerHeight,width:this.containerWidth}),this.lScrollContainer.css({height:o,width:n,overflow:"auto",position:"relative"}),this.lScrollContent.css({position:"relative",height:this.contentHeight}),this.giveVerticalScroll){this.getVertBarHeight(this.containerHeight,this.contentHeight),this.lScrollMainContainer.append("<div class='vertical-bar'><div class='vertical-bar__slider'></div></div>"),this.verticalScroll=l.find(".vertical-bar"),this.verticalScrollSlider=this.verticalScroll.find(".vertical-bar__slider"),this.verticalScroll.length>0&&this.verticalScrollSlider.length>0&&(this.verticalScroll.css({height:this.containerHeight}),this.verticalScrollSlider.css("height",this.vertBarHeight),this.addEventVerticalScroll(this.verticalScrollSlider),this.addEventVerticalDragAndDrop(this.verticalScrollSlider))}if(this.giveHorizontalScroll){this.getHorizBarWidth(this.containerWidth,this.contentWidth),this.lScrollMainContainer.append("<div class='horizontal-bar'><div class='horizontal-bar__slider'></div></div>"),this.horizontalScroll=l.find(".horizontal-bar"),this.horizontalScrollSlider=this.horizontalScroll.find(".horizontal-bar__slider"),this.horizontalScroll.length>0&&this.horizontalScrollSlider.length>0&&(this.horizontalScroll.css({width:this.containerWidth}),this.horizontalScrollSlider.css("width",this.horizBarWidth),this.addEventHorizontalScroll(this.horizontalScrollSlider),this.addEventHorizontalDragAndDrop(this.horizontalScrollSlider))}}else t.error("Error, html is not built")}},addEventVerticalScroll:function(t){if(t.length>0){var i=this;i.lScrollContainer.on("scroll",function(){var o=Math.abs(i.lScrollContent.position().top),n=i.containerHeight*o/i.contentHeight;t.css("top",n)})}},addEventHorizontalScroll:function(t){if(t.length>0){var i=this;i.lScrollContainer.on("scroll",function(){var o=Math.abs(i.lScrollContent.position().left),n=i.containerWidth*o/i.contentWidth;t.css("left",n)})}},addEventVerticalDragAndDrop:function(i){if(i.length>0){var o=this;i.on("mousedown",function(i){var n=t(this),l=o.lScrollContent,r=o.lScrollContainer,e=i.pageY,h=(r.scrollTop(),Math.round(n.position().top));Math.round(l.position().top);t(document).on("mousemove",function(t){var i=t.pageY;if(i>e){var l=i-e,a=Math.round(n.position().top),c=Math.round(o.containerHeight-o.vertBarHeight);if(c>a){var s=h+l;n.css("top",s+"px");var d=Math.round(s*o.contentHeight/o.containerHeight);r.scrollTop(d)}else n.css("top",c)}if(e>i&&(l=e-i,n.position().top>0)){var s=Math.round(h-l);n.css("top",s+"px");var d=Math.round(s*o.contentHeight/o.containerHeight);r.scrollTop(d)}window.getSelection()&&window.getSelection().removeAllRanges()}),t(document,t(this)).on("mouseup",function(i){t(this).off("mousemove")})})}},addEventHorizontalDragAndDrop:function(i){if(i.length>0){var o=this;i.on("mousedown",function(i){var n=t(this),l=o.lScrollContent,r=o.lScrollContainer,e=i.pageX,h=(r.scrollLeft(),n.position().left);l.position().left;t(document).on("mousemove",function(t){var i=t.pageX;if(i>e){var l=i-e,a=Math.round(n.position().left),c=Math.round(o.containerWidth-o.horizBarWidth);if(c>a){var s=h+l;n.css("left",s+"px");var d=Math.round(s*o.contentWidth/o.containerWidth);r.scrollLeft(d)}else n.css("left",c)}if(e>i&&(l=e-i,n.position().left>0)){var s=Math.round(h-l);n.css("left",s+"px");var d=Math.round(s*o.contentWidth/o.containerWidth);r.scrollLeft(d)}window.getSelection()&&window.getSelection().removeAllRanges()}),t(document,t(this)).on("mouseup",function(i){t(this).off("mousemove")})})}},getScrollWidth:function(){var t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",t.style.position="fixed",t.style.right="-100000px",t.style.visibility="hidden",document.body.appendChild(t);var i=t.offsetWidth-t.clientWidth;document.body.removeChild(t),i>0?this.scrollWidth=i:0==i&&(this.scrollWidth=8)},getContainerSize:function(t){t.length>0&&(this.containerHeight=t.outerHeight(),this.containerWidth=t.outerWidth())},getContentSize:function(t){t.length>0&&(this.contentHeight=t.outerHeight())},getGiveVerticalScroll:function(t,i){i>t&&(this.giveVerticalScroll=!0)},getGiveHorizontalScroll:function(t,i){i>t&&(this.giveHorizontalScroll=!0)},getVertBarHeight:function(t,i){0!==t&&0!==i&&(this.vertBarHeight=Math.round(t*t/i))},getHorizBarWidth:function(t,i){0!==t&&0!==i&&(this.horizBarWidth=Math.round(t*t/i))},getWidthContent:function(i){if(i){var o=0,n=i.children();n.length>0&&n.each(function(){var i=t(this).outerWidth(!0);i>o&&(o=i)}),o>0&&(this.contentWidth=o)}}}};t.fn.lScroll=function(o){return i[o]?i[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void t.error("Метод с именем "+o+" не существует"):i.init.apply(this,arguments)}}(jQuery);