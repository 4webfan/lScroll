!function(a){var b={init:function(){function d(b){return b.length>0&&void b.each(function(){var b=new c;b.htmlRebuld(a(this))})}var b=this;d(b)},destroy:function(a){if(void 0!==a)var b=a;else var b=this;var c=b.find(".lScrollContent"),d=c.children();c.unwrap(),d.unwrap(),b.removeClass("lscrollMainContainer").attr("style",""),b.find(".vertical-bar").remove(),b.find(".horizontal-bar").remove()}},c=function(){return param={containerHeight:0,containerWidth:0,contentHeight:0,contentWidth:0,scrollWidth:0,vertBarHeight:0,horizBarWidth:0,giveVerticalScroll:!1,giveHorizontalScroll:!1,lScrollMainContainer:!1,lScrollContainer:!1,lScrollContent:!1,verticalScroll:!1,verticalScrollSlider:!1,horizontalScroll:!1,horizontalScrollSlider:!1,htmlRebuld:function(a){a.hasClass("lscrollMainContainer")?(b.destroy(a),this.htmlConstructor(a)):this.htmlConstructor(a)},htmlConstructor:function(a){this.getWidthContent(a),a.addClass("lscrollMainContainer").wrapInner("<div class='lScrollContainer'><div class='lScrollContent'></div></div>"),this.objParamCalculator(a)},objParamCalculator:function(b){if(this.getScrollWidth(),this.getContainerSize(b),this.getContentSize(b.find(".lScrollContent")),this.getGiveVerticalScroll(this.containerHeight,this.contentHeight),this.getGiveHorizontalScroll(this.containerWidth,this.contentWidth),this.giveVerticalScroll||this.giveHorizontalScroll){var f,g,c=b,d=b.find(".lScrollContainer"),e=d.find(".lScrollContent");if(f=this.giveHorizontalScroll?this.containerHeight+this.scrollWidth:this.containerHeight,g=this.giveVerticalScroll?this.containerWidth+this.scrollWidth:this.containerWidth,c.length>0&&d.length>0){if(this.lScrollMainContainer=c,this.lScrollContainer=d,this.lScrollContent=e,this.lScrollMainContainer.css({overflow:"hidden",position:"relative",height:this.containerHeight,width:this.containerWidth}),this.lScrollContainer.css({height:f,width:g,overflow:"auto",position:"relative"}),this.lScrollContent.css({position:"relative",height:this.contentHeight}),this.giveVerticalScroll){this.getVertBarHeight(this.containerHeight,this.contentHeight),this.lScrollMainContainer.append("<div class='vertical-bar'><div class='vertical-bar__slider'></div></div>"),this.verticalScroll=c.find(".vertical-bar"),this.verticalScrollSlider=this.verticalScroll.find(".vertical-bar__slider"),this.verticalScroll.length>0&&this.verticalScrollSlider.length>0&&(this.verticalScroll.css({height:this.containerHeight}),this.verticalScrollSlider.css("height",this.vertBarHeight),this.addEventVerticalScroll(this.verticalScrollSlider),this.addEventVerticalDragAndDrop(this.verticalScrollSlider))}if(this.giveHorizontalScroll){this.getHorizBarWidth(this.containerWidth,this.contentWidth),this.lScrollMainContainer.append("<div class='horizontal-bar'><div class='horizontal-bar__slider'></div></div>"),this.horizontalScroll=c.find(".horizontal-bar"),this.horizontalScrollSlider=this.horizontalScroll.find(".horizontal-bar__slider"),this.horizontalScroll.length>0&&this.horizontalScrollSlider.length>0&&(this.horizontalScroll.css({width:this.containerWidth}),this.horizontalScrollSlider.css("width",this.horizBarWidth),this.addEventHorizontalScroll(this.horizontalScrollSlider),this.addEventHorizontalDragAndDrop(this.horizontalScrollSlider))}}else a.error("Error, html is not built")}},addEventVerticalScroll:function(a){if(a.length>0){var b=this;b.lScrollContainer.on("scroll",function(){var c=Math.abs(b.lScrollContent.position().top),d=b.containerHeight*c/b.contentHeight;a.css("top",d)})}},addEventHorizontalScroll:function(a){if(a.length>0){var b=this;b.lScrollContainer.on("scroll",function(){var c=Math.abs(b.lScrollContent.position().left),d=b.containerWidth*c/b.contentWidth;a.css("left",d)})}},addEventVerticalDragAndDrop:function(b){if(b.length>0){var c=this;b.on("mousedown",function(b){var d=a(this),e=c.lScrollContent,f=c.lScrollContainer,g=b.pageY,i=(f.scrollTop(),Math.round(d.position().top));Math.round(e.position().top);a(document).on("mousemove",function(a){var b=a.pageY;if(b>g){var e=b-g,h=Math.round(d.position().top),j=Math.round(c.containerHeight-c.vertBarHeight);if(h<j){var k=i+e;d.css("top",k+"px");var l=Math.round(k*c.contentHeight/c.containerHeight);f.scrollTop(l)}else d.css("top",j)}if(b<g&&(e=g-b,d.position().top>0)){var k=Math.round(i-e);d.css("top",k+"px");var l=Math.round(k*c.contentHeight/c.containerHeight);f.scrollTop(l)}window.getSelection()&&window.getSelection().removeAllRanges()}),a(document,a(this)).on("mouseup",function(b){a(this).off("mousemove")})})}},addEventHorizontalDragAndDrop:function(b){if(b.length>0){var c=this;b.on("mousedown",function(b){var d=a(this),e=c.lScrollContent,f=c.lScrollContainer,g=b.pageX,i=(f.scrollLeft(),d.position().left);e.position().left;a(document).on("mousemove",function(a){var b=a.pageX;if(b>g){var e=b-g,h=Math.round(d.position().left),j=Math.round(c.containerWidth-c.horizBarWidth);if(h<j){var k=i+e;d.css("left",k+"px");var l=Math.round(k*c.contentWidth/c.containerWidth);f.scrollLeft(l)}else d.css("left",j)}if(b<g&&(e=g-b,d.position().left>0)){var k=Math.round(i-e);d.css("left",k+"px");var l=Math.round(k*c.contentWidth/c.containerWidth);f.scrollLeft(l)}window.getSelection()&&window.getSelection().removeAllRanges()}),a(document,a(this)).on("mouseup",function(b){a(this).off("mousemove")})})}},getScrollWidth:function(){var a=document.createElement("div");a.style.overflowY="scroll",a.style.width="50px",a.style.height="50px",a.style.position="fixed",a.style.right="-100000px",a.style.visibility="hidden",document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;document.body.removeChild(a),b>0?this.scrollWidth=b:0==b&&(this.scrollWidth=8)},getContainerSize:function(a){a.length>0&&(this.containerHeight=a.height(),this.containerWidth=a.width())},getContentSize:function(a){a.length>0&&(this.contentHeight=a.height())},getGiveVerticalScroll:function(a,b){a<b&&(this.giveVerticalScroll=!0)},getGiveHorizontalScroll:function(a,b){a<b&&(this.giveHorizontalScroll=!0)},getVertBarHeight:function(a,b){0!==a&&0!==b&&(this.vertBarHeight=Math.round(a*a/b))},getHorizBarWidth:function(a,b){0!==a&&0!==b&&(this.horizBarWidth=Math.round(a*a/b))},getWidthContent:function(b){if(b){var c=0,d=b.children();d.length>0&&d.each(function(){var b=a(this).width();b>c&&(c=b)}),c>0&&(this.contentWidth=c)}}}};a.fn.lScroll=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Метод с именем "+c+" не существует"):b.init.apply(this,arguments)}}(jQuery);